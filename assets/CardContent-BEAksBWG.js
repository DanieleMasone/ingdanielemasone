import{r,j as x}from"./index-kwjldCm0.js";import{M as A,i as z,u as S,P as D,a as K,b as N,L as U}from"./proxy-CRQA389y.js";function I(e,s){if(typeof e=="function")return e(s);e!=null&&(e.current=s)}function B(...e){return s=>{let t=!1;const o=e.map(u=>{const c=I(u,s);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let u=0;u<o.length;u++){const c=o[u];typeof c=="function"?c():I(e[u],null)}}}}function F(...e){return r.useCallback(B(...e),e)}class G extends r.Component{getSnapshotBeforeUpdate(s){const t=this.props.childRef.current;if(t&&s.isPresent&&!this.props.isPresent){const o=t.offsetParent,u=z(o)&&o.offsetWidth||0,c=z(o)&&o.offsetHeight||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=u-n.width-n.left,n.bottom=c-n.height-n.top}return null}componentDidUpdate(){}render(){return this.props.children}}function V({children:e,isPresent:s,anchorX:t,anchorY:o,root:u}){const c=r.useId(),n=r.useRef(null),y=r.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:R}=r.useContext(A),E=e.props?.ref??e?.ref,l=F(n,E);return r.useInsertionEffect(()=>{const{width:b,height:f,top:a,left:p,right:m,bottom:g}=y.current;if(s||!n.current||!b||!f)return;const P=t==="left"?`left: ${p}`:`right: ${m}`,j=o==="bottom"?`bottom: ${g}`:`top: ${a}`;n.current.dataset.motionPopId=c;const C=document.createElement("style");R&&(C.nonce=R);const d=u??document.head;return d.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${f}px !important;
            ${P}px !important;
            ${j}px !important;
          }
        `),()=>{d.contains(C)&&d.removeChild(C)}},[s]),x.jsx(G,{isPresent:s,childRef:n,sizeRef:y,children:r.cloneElement(e,{ref:l})})}const X=({children:e,initial:s,isPresent:t,onExitComplete:o,custom:u,presenceAffectsLayout:c,mode:n,anchorX:y,anchorY:R,root:E})=>{const l=S(Y),b=r.useId();let f=!0,a=r.useMemo(()=>(f=!1,{id:b,initial:s,isPresent:t,custom:u,onExitComplete:p=>{l.set(p,!0);for(const m of l.values())if(!m)return;o&&o()},register:p=>(l.set(p,!1),()=>l.delete(p))}),[t,l,o]);return c&&f&&(a={...a}),r.useMemo(()=>{l.forEach((p,m)=>l.set(m,!1))},[t]),r.useEffect(()=>{!t&&!l.size&&o&&o()},[t]),n==="popLayout"&&(e=x.jsx(V,{isPresent:t,anchorX:y,anchorY:R,root:E,children:e})),x.jsx(D.Provider,{value:a,children:e})};function Y(){return new Map}const $=e=>e.key||"";function H(e){const s=[];return r.Children.forEach(e,t=>{r.isValidElement(t)&&s.push(t)}),s}const J=({children:e,custom:s,initial:t=!0,onExitComplete:o,presenceAffectsLayout:u=!0,mode:c="sync",propagate:n=!1,anchorX:y="left",anchorY:R="top",root:E})=>{const[l,b]=K(n),f=r.useMemo(()=>H(e),[e]),a=n&&!l?[]:f.map($),p=r.useRef(!0),m=r.useRef(f),g=S(()=>new Map),P=r.useRef(new Set),[j,C]=r.useState(f),[d,k]=r.useState(f);N(()=>{p.current=!1,m.current=f;for(let h=0;h<d.length;h++){const i=$(d[h]);a.includes(i)?(g.delete(i),P.current.delete(i)):g.get(i)!==!0&&g.set(i,!1)}},[d,a.length,a.join("-")]);const M=[];if(f!==j){let h=[...f];for(let i=0;i<d.length;i++){const w=d[i],v=$(w);a.includes(v)||(h.splice(i,0,w),M.push(w))}return c==="wait"&&M.length&&(h=M),k(H(h)),C(f),null}const{forceRender:T}=r.useContext(U);return x.jsx(x.Fragment,{children:d.map(h=>{const i=$(h),w=n&&!l?!1:f===d||a.includes(i),v=()=>{if(P.current.has(i))return;if(P.current.add(i),g.has(i))g.set(i,!0);else return;let L=!0;g.forEach(W=>{W||(L=!1)}),L&&(T?.(),k(m.current),n&&b?.(),o&&o())};return x.jsx(X,{isPresent:w,initial:!p.current||t?void 0:!1,custom:s,presenceAffectsLayout:u,mode:c,root:E,onExitComplete:w?void 0:v,anchorX:y,anchorY:R,children:h},i)})})};function O({children:e,className:s="",...t}){return x.jsx("section",{...t,className:`  // Template literal pi√π leggibile
                rounded-2xl bg-gray-100 dark:bg-gray-800 
                border border-gray-300 dark:border-gray-700 
                shadow-md hover:shadow-lg transition-shadow 
                p-4 sm:p-6 w-full ${s}
            `.trim(),children:e})}function Q({children:e,className:s="",...t}){return x.jsx("div",{...t,className:`
                p-4 sm:p-6 md:p-8
                text-sm sm:text-base
                text-gray-900 dark:text-gray-300
                ${s}
            `.trim(),children:e})}export{J as A,O as C,Q as a};
//# sourceMappingURL=CardContent-BEAksBWG.js.map
