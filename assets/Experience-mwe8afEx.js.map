{"version":3,"file":"Experience-mwe8afEx.js","sources":["../../src/pages/experience/Experience.jsx"],"sourcesContent":["import {useTranslation} from \"react-i18next\";\r\nimport React, {useEffect, useMemo, useState} from \"react\";\r\nimport {Card} from \"@/components/ui/card/Card\";\r\nimport {CardContent} from \"@/components/ui/cardContent/CardContent\";\r\nimport {PageSection} from \"@/components/ui/pageSection/PageSection\";\r\nimport {ExpandableText} from \"@/components/ui/expandableText/ExpandableText\";\r\nimport {SeoHead} from \"@/components/seoHead/SeoHead\";\r\nimport {SelectableButton} from \"@/components/ui/selectableButton/SelectableButton\";\r\nimport {PageGrid} from \"@/components/ui/pageGrid/PageGrid\";\r\nimport TechDisclosure from \"@/components/ui/techDisclosure/TechDisclosure\";\r\nimport {getExperiences} from \"@/services/portfolioService\";\r\nimport {Loading} from \"@/components/loading/Loading\";\r\nimport {ErrorState} from \"@/components/errorState/ErrorState\";\r\n\r\n/**\r\n * Determines the experience label and type based on the selected year within a period string.\r\n *\r\n * Parses the given period string to extract start and end years, then compares with the selected year.\r\n * Returns an object with a localized label and a type indicating whether the year is at the start, end,\r\n * or the only year of the experience period.\r\n *\r\n * @param {string} period - The period string containing one or two years (e.g. \"2019-2021\" or \"2020\").\r\n * @param {string|number} year - The selected year to compare against the period.\r\n * @param {function} t - Translation function (e.g. from i18next) to get localized labels.\r\n * @returns {{label: string, type: \"single\" | \"start\" | \"end\"} | null}\r\n *          An object with the label and type if the selected year matches start/end/single year,\r\n *          or null if no match or invalid period.\r\n */\r\nexport const getExperienceLabel = (period, year, t) => {\r\n    const years = period.match(/\\b(20\\d{2}|19\\d{2})\\b/g);\r\n    const selected = parseInt(year, 10);\r\n\r\n    if (!years) return null;\r\n\r\n    const start = parseInt(years[0], 10);\r\n    const end = years[1] ? parseInt(years[1], 10) : null;\r\n\r\n    if (start === selected && end === selected) {\r\n        return {label: t(\"exp_label_single\"), type: \"single\"};\r\n    }\r\n\r\n    if (start === selected) {\r\n        return {label: t(\"exp_label_start\"), type: \"start\"};\r\n    }\r\n\r\n    if (end === selected) {\r\n        return {label: t(\"exp_label_end\"), type: \"end\"};\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n/**\r\n * Experience component renders a list of professional experiences filtered by selected year.\r\n *\r\n * It displays year buttons to filter experiences by year extracted from experience periods.\r\n * Each experience shows role, company, period, description, and a collapsible panel with technologies used.\r\n *\r\n * Uses i18next for translations.\r\n *\r\n * @component\r\n * @module pages/experience/Experience\r\n * @returns {JSX.Element} The rendered experience section with filtering and animated transitions.\r\n */\r\nexport default function Experience() {\r\n    const {t} = useTranslation();\r\n\r\n// --- State ---\r\n    const [experiences, setExperiences] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [selectedYear, setSelectedYear] = useState(null);\r\n\r\n// --- Data fetching ---\r\n    const loadExperiences = () => {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        getExperiences()\r\n            .then(setExperiences)\r\n            .catch(setError)\r\n            .finally(() => setLoading(false));\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadExperiences();\r\n    }, []);\r\n\r\n// --- Derived data: list of years ---\r\n    const yearList = useMemo(() => {\r\n        const yearRegex = /\\b(20\\d{2}|19\\d{2})\\b/g;\r\n        const years = new Set();\r\n\r\n        experiences.forEach(exp => {\r\n            const match = exp.period.match(yearRegex);\r\n            if (match) {\r\n                match.forEach(y => years.add(y));\r\n            }\r\n        });\r\n\r\n        return Array.from(years).sort((a, b) => b - a);\r\n    }, [experiences]);\r\n\r\n// --- Auto-select latest year if none selected ---\r\n    useEffect(() => {\r\n        if (yearList.length > 0 && !selectedYear) {\r\n            setSelectedYear(yearList[0]);\r\n        }\r\n    }, [yearList, selectedYear]);\r\n\r\n// --- Filtered experiences by selected year ---\r\n    const filteredExperiences = useMemo(() => {\r\n        if (!selectedYear) return [];\r\n        return experiences.filter(exp => exp.period.includes(selectedYear));\r\n    }, [experiences, selectedYear]);\r\n\r\n    if (loading) return <Loading/>;\r\n    if (error) return <ErrorState message={t(\"error_generic\")} onRetry={loadExperiences}/>;\r\n\r\n    return (\r\n        <>\r\n            <SeoHead pageKey=\"experience\" path=\"/experience\"/>\r\n\r\n            <PageSection title={t(\"experience_title\")}>\r\n                {/* Years */}\r\n                <div className=\"mb-8\">\r\n                    <div\r\n                        className=\"flex flex-row sm:flex-wrap sm:justify-center gap-2 sm:gap-3 overflow-x-auto sm:overflow-visible px-2 sm:px-0 pb-3 scrollbar-hide\">\r\n                        {yearList.map(year => (\r\n                            <SelectableButton\r\n                                key={year}\r\n                                label={year}\r\n                                isSelected={selectedYear === year}\r\n                                onClick={() => setSelectedYear(year)}\r\n                                className={`flex-shrink-0 transition-all duration-200 ${\r\n                                    selectedYear === year\r\n                                        ? \"bg-blue-600 text-white shadow-md\"\r\n                                        : \"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-blue-500 hover:text-white\"\r\n                                }`}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {filteredExperiences.length > 0 && (\r\n                    <PageGrid page={selectedYear} columns={2}>\r\n                        {filteredExperiences.map((exp, i) => (\r\n                            <Card\r\n                                key={i}\r\n                                className=\"relative w-full p-5 sm:p-6 border border-gray-200/60\r\n                                           dark:border-gray-700/60 bg-white/60 dark:bg-gray-800/40 backdrop-blur-md\r\n                                           rounded-xl hover:shadow-lg transition-all duration-300\r\n                                           flex flex-col md:flex-row items-start gap-4\"\r\n                            >\r\n                                <CardContent className=\"p-0\">\r\n                                    {/* Title and main info */}\r\n                                    <div\r\n                                        className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-2 md:gap-4\">\r\n                                        <h3 className=\"text-lg md:text-xl font-semibold text-gray-900 dark:text-gray-100\">\r\n                                            {t(exp.role)}\r\n                                        </h3>\r\n\r\n                                        <div className=\"flex items-center gap-2 flex-wrap\">\r\n                                            <p className=\"text-gray-600 dark:text-gray-400\">{exp.company}</p>\r\n                                            {(() => {\r\n                                                const status = getExperienceLabel(exp.period, selectedYear, t);\r\n                                                if (!status) return null;\r\n\r\n                                                const colorMap = {\r\n                                                    start: \"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300\",\r\n                                                    end: \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300\",\r\n                                                    single: \"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300\",\r\n                                                };\r\n\r\n                                                return (\r\n                                                    <span\r\n                                                        className={`inline-block mt-1 px-2 py-0.5 text-xs font-semibold rounded-full ${colorMap[status.type]}`}\r\n                                                    >\r\n                                                {status.label}\r\n                                            </span>\r\n                                                );\r\n                                            })()}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Period */}\r\n                                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">{exp.period}</p>\r\n\r\n                                    {/* Description */}\r\n                                    {exp.description && (\r\n                                        <ExpandableText\r\n                                            value={t(exp.description)}\r\n                                            maxLines={4}\r\n                                            className=\"text-sm mb-2 px-4 py-3 bg-white/50 dark:bg-gray-900/50 rounded-xl shadow-inner italic text-gray-800 dark:text-gray-200\"\r\n                                        />\r\n                                    )}\r\n\r\n                                    {/* Tech */}\r\n                                    <TechDisclosure techList={exp.tech} label={t(\"show_technologies\")}/>\r\n\r\n                                </CardContent>\r\n                            </Card>\r\n                        ))}\r\n                    </PageGrid>\r\n                )}\r\n            </PageSection>\r\n        </>\r\n    );\r\n}\r\n"],"names":["getExperienceLabel","period","year","t","years","selected","start","end","Experience","useTranslation","experiences","setExperiences","useState","loading","setLoading","error","setError","selectedYear","setSelectedYear","loadExperiences","getExperiences","useEffect","yearList","useMemo","yearRegex","exp","match","y","a","b","filteredExperiences","jsx","Loading","ErrorState","jsxs","Fragment","SeoHead","PageSection","SelectableButton","PageGrid","i","Card","CardContent","status","colorMap","ExpandableText","TechDisclosure"],"mappings":"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"}