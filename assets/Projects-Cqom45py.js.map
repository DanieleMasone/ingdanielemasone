{"version":3,"file":"Projects-Cqom45py.js","sources":["../../src/pages/projects/Projects.jsx"],"sourcesContent":["import {useTranslation} from 'react-i18next';\r\nimport {Card} from \"@/components/ui/card/Card\";\r\nimport {CardContent} from \"@/components/ui/cardContent/CardContent\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {PageSection} from \"@/components/ui/pageSection/PageSection\";\r\nimport {ExpandableText} from \"@/components/ui/expandableText/ExpandableText\";\r\nimport {SeoHead} from \"@/components/seoHead/SeoHead\";\r\nimport {Pagination} from \"@/components/ui/pagination/Pagination\";\r\nimport {PageGrid} from \"@/components/ui/pageGrid/PageGrid\";\r\nimport TechDisclosure from \"@/components/ui/techDisclosure/TechDisclosure\";\r\nimport {getProjects} from \"@/services/portfolioService\";\r\nimport {Loading} from \"@/components/loading/Loading\";\r\nimport {ErrorState} from \"@/components/errorState/ErrorState\";\r\n\r\nconst ITEMS_PER_PAGE = 2;\r\n\r\n/**\r\n * Projects component displays a list of projects grouped by company.\r\n *\r\n * Features:\r\n * - Sidebar with buttons to filter projects by company.\r\n * - Shows project details including name, company, period, type, and technologies used.\r\n * - Each project has a collapsible panel to toggle visibility of technology stack.\r\n * - Uses i18n translation for UI texts and project types.\r\n *\r\n * @component\r\n * @module pages/projects/Projects\r\n * @returns {JSX.Element} Rendered Projects section with filtering and collapsible tech details.\r\n */\r\nexport default function Projects() {\r\n    const {t} = useTranslation();\r\n    const [selectedCompany, setSelectedCompany] = useState(\"Intesa Sanpaolo\");\r\n    const [page, setPage] = useState(1);\r\n    const [projects, setProjects] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    const loadProjects = () => {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        getProjects()\r\n            .then(setProjects)\r\n            .catch(setError)\r\n            .finally(() => setLoading(false));\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadProjects();\r\n    }, []);\r\n\r\n    const companies = [...new Set(projects.map(p => p.company))];\r\n\r\n    const groupedProjects = projects.reduce((acc, proj) => {\r\n        acc[proj.company] = acc[proj.company] || [];\r\n        acc[proj.company].push(proj);\r\n        return acc;\r\n    }, {});\r\n\r\n    if (loading) return <Loading/>;\r\n    if (error) return <ErrorState message={t(\"error_generic\")} onRetry={loadProjects}/>;\r\n\r\n    return (\r\n        <>\r\n            <SeoHead pageKey=\"projects\" path=\"/projects\"/>\r\n\r\n            <PageSection title={t(\"projects_title\")}>\r\n                {(() => {\r\n                    const currentProjects = groupedProjects[selectedCompany] || [];\r\n                    const totalPages = Math.ceil(currentProjects.length / ITEMS_PER_PAGE);\r\n                    const paginated = currentProjects.slice(\r\n                        (page - 1) * ITEMS_PER_PAGE,\r\n                        page * ITEMS_PER_PAGE\r\n                    );\r\n\r\n                    return (\r\n                        <div className=\"flex flex-col md:flex-row gap-8\">\r\n\r\n                            {/*  SIDEBAR */}\r\n                            <aside className=\"md:w-64 md:shrink-0 md:sticky md:top-24 h-fit\">\r\n                                <div\r\n                                    className=\"flex flex-row md:flex-col gap-2 md:gap-3 overflow-x-auto md:overflow-visible snap-x md:snap-none px-1 md:px-0 pb-3 scrollbar-hide\"\r\n                                >\r\n                                    {companies.map((company) => {\r\n                                        const count = groupedProjects[company]?.length ?? 0;\r\n\r\n                                        return (\r\n                                            <button\r\n                                                key={company}\r\n                                                onClick={() => {\r\n                                                    setSelectedCompany(company);\r\n                                                    setPage(1);\r\n                                                    window.scrollTo({top: 0, behavior: \"smooth\"});\r\n                                                }}\r\n                                                className={`snap-start text-left rounded-lg px-3 py-2 border transition-all duration-200 flex items-center justify-between gap-3\r\n                                                    ${selectedCompany === company\r\n                                                    ? \"bg-blue-600 text-white border-blue-600 shadow-md\"\r\n                                                    : \"bg-white/70 dark:bg-gray-800/60 border-gray-200 dark:border-gray-700 hover:-translate-y-0.5 hover:shadow\"\r\n                                                }\r\n                                            `}\r\n                                            >\r\n                                                <span className=\"truncate\">{company}</span>\r\n                                                <span className={`text-xs px-2 py-0.5 rounded-full\r\n                                                    ${selectedCompany === company\r\n                                                    ? \"bg-white/20 text-white\"\r\n                                                    : \"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300\"\r\n                                                }\r\n                                                `}>\r\n                                                  {count}\r\n                                                </span>\r\n                                            </button>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </aside>\r\n\r\n                            {/* MAIN */}\r\n                            <main className=\"flex-1 min-w-0\">\r\n                                <div className=\"max-w-6xl mx-auto flex flex-col gap-6\">\r\n\r\n                                    {/* pagination mobile sticky */}\r\n                                    <div\r\n                                        className=\"md:hidden sticky top-0 z-20 bg-white/85 dark:bg-gray-900/85 backdrop-blur border-b border-gray-200 dark:border-gray-700 py-2 mb-4\">\r\n                                        <Pagination\r\n                                            page={page}\r\n                                            totalPages={totalPages}\r\n                                            onPageChange={setPage}\r\n                                        />\r\n                                    </div>\r\n\r\n                                    {/* GRID */}\r\n                                    {paginated.length > 0 && (\r\n                                        <PageGrid\r\n                                            page={`${selectedCompany}-${page}`}\r\n                                            columns={2}\r\n                                            className=\"pt-2\"\r\n                                        >\r\n                                            {paginated.map((proj, idx) => (\r\n                                                <Card\r\n                                                    key={idx}\r\n                                                    className=\"relative w-full p-5 sm:p-6 border border-gray-200/60\r\n                                                               dark:border-gray-700/60 bg-white/60 dark:bg-gray-800/40 backdrop-blur-md\r\n                                                               rounded-xl hover:shadow-lg transition-all duration-300\r\n                                                               flex flex-col md:flex-row items-start gap-4\"\r\n                                                >\r\n                                                    <CardContent className=\"p-0\">\r\n                                                        <div className=\"flex flex-col gap-3\">\r\n                                                            <div className=\"flex flex-col gap-2\">\r\n                                                                <h3 className=\"text-lg md:text-xl font-semibold text-gray-900 dark:text-gray-100 leading-snug line-clamp-2\">\r\n                                                                    {proj.name}\r\n                                                                </h3>\r\n\r\n                                                                {/* Meta info container */}\r\n                                                                <div className=\"flex flex-wrap gap-2 items-center\">\r\n                                                                    <span\r\n                                                                        className=\"text-xs font-medium px-3 py-1 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300\">\r\n                                                                      {proj.period}\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                            {proj.type && (\r\n                                                                <ExpandableText\r\n                                                                    value={t(`project_types.${proj.type}`)}\r\n                                                                    maxLines={4}\r\n                                                                    className=\"text-sm mb-2 px-4 py-3 bg-white/50 dark:bg-gray-900/50 rounded-xl shadow-inner italic text-gray-800 dark:text-gray-200\"\r\n                                                                />\r\n                                                            )}\r\n\r\n                                                        </div>\r\n\r\n                                                        {/* LOW BLOCK - Tech */}\r\n                                                        <TechDisclosure techList={proj.tech}\r\n                                                                        label={t(\"show_technologies\")}/>\r\n\r\n                                                    </CardContent>\r\n                                                </Card>\r\n                                            ))}\r\n                                        </PageGrid>\r\n                                    )}\r\n\r\n                                    {/* pagination desktop bottom */}\r\n                                    <div className=\"hidden md:flex justify-center mt-8\">\r\n                                        <Pagination\r\n                                            page={page}\r\n                                            totalPages={totalPages}\r\n                                            onPageChange={setPage}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </main>\r\n\r\n                        </div>\r\n                    );\r\n                })()}\r\n            </PageSection>\r\n        </>\r\n    );\r\n}\r\n"],"names":["ITEMS_PER_PAGE","Projects","t","useTranslation","selectedCompany","setSelectedCompany","useState","page","setPage","projects","setProjects","loading","setLoading","error","setError","loadProjects","getProjects","useEffect","companies","p","groupedProjects","acc","proj","jsx","Loading","ErrorState","jsxs","Fragment","SeoHead","PageSection","currentProjects","totalPages","paginated","company","count","Pagination","PageGrid","idx","Card","CardContent","ExpandableText","TechDisclosure"],"mappings":"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"}